<script type="module">
  // Importar Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
  import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-database.js";

  // Configuração do Firebase
  const firebaseConfig = {
      apiKey: "SUA_API_KEY",
      authDomain: "SEU_PROJETO.firebaseapp.com",
      databaseURL: "https://SEU_PROJETO-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "SEU_PROJETO",
      storageBucket: "SEU_PROJETO.appspot.com",
      messagingSenderId: "SEU_ID",
      appId: "SUA_APP_ID"
  };

  // Inicializar Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  let groupName = "";
  let answered = false;

  window.startQuiz = function() {
      groupName = document.getElementById("groupName").value;
      if (groupName.trim() === "") {
          alert("Por favor, insira o nome do grupo!");
          return;
      }
      document.getElementById("quiz").style.display = "block";
  }

  window.checkAnswer = function(button, isCorrect) {
      if (answered) return;
      answered = true;
      
      if (isCorrect) {
          button.classList.add("correct");
          saveResult(true);
      } else {
          button.classList.add("wrong");
          saveResult(false);
      }

      document.querySelectorAll('.option').forEach(btn => btn.disabled = true);
  }

  function saveResult(isCorrect) {
      set(ref(db, "respostas/" + groupName), {
          acertou: isCorrect
      });
  }
</script>

